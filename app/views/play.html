<div ng-controller="PlayCtrl">
  <div class="play__state" ng-switch="boardState">
    <div ng-switch-when="not-finished">
      <p>{{ playersCount() }} player{{ playersCount() != 1 ? 's' : '' }} online</p>
      <span ng-mouseenter="showPreview()" ng-mouseleave="hidePreview()">hover here to preview</span>
    </div>
    <div ng-switch-when="finished">
      <p>puzzle solved, good job!</p>
      <span>new puzzle coming up in a second...</span>
    </div>
  </div>
  <div ng-controller="BoardCtrl" class="board__wrapper">
    <div instapuzzle-board instapuzzle-board-model="board"></div>
    <div class="board__loading" ng-show="state == 'logged-out'">
      <p><img src="/images/loader.gif" /></p>
    </div>
    <div ng-show="preview" class="board__preview"><img src="{{ board.image.url }}" /></div>
  </div>
  <p ng-show="board.image.source" class="board__image-source">source: <a href="{{ board.image.source }}" target="_blank">{{ board.image.source }}</a></p>
</div>
